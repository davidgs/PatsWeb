<!DOCTYPE html>
<html lang="en">

{{- partial "head.html" . -}}

<body>
  {{- partial "header.html" . -}}
  {{- block "main" . }}{{- end }}
  {{- partial "footer.html" . -}}


  <script src=https://code.jquery.com/jquery-3.6.0.js integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin=anonymous></script>
  <!-- <link rel=stylesheet href=/node_modules/bootstrap/dist/css/bootstrap.min.css> -->
  <!-- <script src=/node_modules/bootstrap/dist/js/bootstrap.min.js></script> -->
  <!-- <script src="{{ "js/cal.js" | absURL }}"></script> -->
  <link rel=stylesheet href=/node_modules/@fortawesome/fontawesome-free-webfonts/css/fontawesome.css>
  <link rel=stylesheet href=/node_modules/@fortawesome/fontawesome-free-webfonts/css/fa-solid.css>
  <link rel=stylesheet href="{{ "css/screen.css" | absURL }}">
   <link rel=stylesheet href="{{ "css/custom-cal.css" | absURL }}">
  <link rel=stylesheet href="{{ "css/normalize.css" | absURL }}">
  <link rel=stylesheet href="{{ "css/forms.css" | absURL }}">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,300italic,700" rel=stylesheet
    type=text/css>
  <link
    href="https://fonts.googleapis.com/css?family=Oswald:400,300,700|Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800|Roboto+Slab:400,100,300,700"
    rel=stylesheet type=text/css>
  <link rel=stylesheet href="{{ "fork-awesome/css/fork-awesome.min.css" | absURL }}" type=text/css>
  <!-- We do need jQuery to be loaded before HugoScroll script -->
  <!-- The main JavaScript files for HugoScroll -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
  <!-- <script type="text/javascript" src='{{ "node_modules/moment/min/moment-with-locales.min.js" | absURL }}'></script> -->
  <script type="text/javascript"
    src='{{ "node_modules/jquery-touchswipe/jquery.touchSwipe.min.js" | absURL }}'></script>
  <script type="text/javascript" src='{{ "js/icons.js" | absURL }}'></script>
  <script type="text/javascript" src='{{ "js/index.js" |absURL }}'></script>
<link href='{{ "node_modules/fullcalendar/main.css" | absURL }}' rel='stylesheet' />
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.min.js"></script>
<script src='{{ "node_modules/fullcalendar/main.js" | absURL }}'></script>
<script src='https://cdn.jsdelivr.net/npm/rrule@2.6.4/dist/es5/rrule.min.js'></script>
<!-- the rrule-to-fullcalendar connector. must go AFTER the rrule lib -->
<script src='https://cdn.jsdelivr.net/npm/@fullcalendar/rrule@5.5.0/main.global.min.js'></script>

  <!-- <script src="/dist/js/jquery-calendar.min.js"></script -->
  <script type="text/javascript"
    src="https://cdn.polyfill.io/v3/polyfill.min.js?version=3.52.1&features=Array.prototype.forEach,console,Date.prototype.toISOString,document,Intl,Map,Promise,Set"></script>
  <script type="text/javascript" src="https://unpkg.com/dayjs@1.8.21/dayjs.min.js"></script>
  <script type="text/javascript" src="https://unpkg.com/dayjs@1.8.23/plugin/localizedFormat.js"></script>
  <script type="text/javascript">dayjs.extend(window.dayjs_plugin_localizedFormat);</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/air-datepicker/2.2.3/js/datepicker.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/air-datepicker/2.2.3/js/i18n/datepicker.en.js"></script>
  <!-- A partial to be overwritten by the user.
             Simply place a custom_body.html into
             your local /layouts/partials-directory -->
  {{- partial "custom_body.html" . -}}
  <script>
    var observer = new IntersectionObserver(function (entries) {
      console.log("Intersecting: " + entries[0]['intersectionRatio'] + " ID: " + entries[0]['target'].id + " Is it: " + entries[0]['isIntersecting']);
      const thisOne = observed.get(entries[0]['target'].id);
      var last = thisOne.lastViz;
      var ratio = entries[0]['intersectionRatio'];
      const el = document.querySelector(thisOne.form);
      if (ratio >= 0.125) {
        if (ratio > last) {
          if (el.classList.contains("tf")) {
            el.classList.remove("tf");
          }
        } else {
          if (!el.classList.contains("tf")) {
            el.classList.add("tf");
          }
        }
      } else {
        if (!el.classList.contains("tf")) {
          el.classList.add("tf");
        }
      }
      observed.set(thisOne.lastViz, ratio);

    }, {
      threshold: [0, 0.125, 0.3, 0.5, 1.0]
    }
    );
    let observed = new Map();
    // observed.set('daily-meds', {
    //   "name": "#daily-meds",
    //   "form": "#typeform-meds",
    //   "show": false,
    //   "lastViz": 0.00
    // });
    // observed.set('pain', {
    //   "name": "#pain",
    //   "form": "#typeform-pain",
    //   "show": false,
    //   "lastViz": 0.00
    // });
    // observed.set('read-me', {
    //   "name": "#read-me",
    //   "form": "#typeform-about",
    //   "show": false,
    //   "lastViz": 0.00
    // });
    // observed.set('going-to-the-er', {
    //   "name": "#going-to-the-er",
    //   "form": "#typeform-er",
    //   "show": false,
    //   "lastViz": 0.00
    // });
    // observed.set('locations', {
    //   "name": "#locations",
    //   "form": "#typeform-doc",
    //   "show": false,
    //   "lastViz": 0.00
    // });
    // observed.set('calendar', {
    //     "name": "#calendar",
    //     "form": "#typeform-cal",
    //     "show": false,
    //     "lastViz": 0.00
    //   });
    // observed.set('contact', {
    //   "name": "#contact",
    //   "form": "#typeform-contact",
    //   "show": "false",
    //   "lastViz": 0.00
    // });
    for (let [b, a] of observed)
        observer.observe(document.querySelector(a.name)),
          console.log(b + ' = ' + a.name)
  </script>
  <script defer src="https://commento.davidgs.com:8088/js/commento.js"></script>
  <div id="commento"></div>
</body>

</html>